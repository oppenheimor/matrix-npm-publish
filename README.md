# Matrix Publish

<div align="center">

**ğŸš€ ä¸“ä¸šçš„åŒ…å‘å¸ƒå·¥å…· - æ”¯æŒå†…ç½‘å’Œå…¬ç½‘å‘å¸ƒ**

[![Version](https://img.shields.io/badge/version-1.1.0-blue.svg)](https://github.com/atom-org/matrix-publish)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Node](https://img.shields.io/badge/node-%3E%3D16.0.0-brightgreen.svg)](https://nodejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue.svg)](https://www.typescriptlang.org/)

</div>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **æ™ºèƒ½åŒ…é€‰æ‹©** - äº¤äº’å¼å¤šé€‰ç•Œé¢ï¼Œé€‰æ‹©è¦å‘å¸ƒçš„åŒ…
- ğŸ“¦ **è‡ªåŠ¨ç‰ˆæœ¬ç®¡ç†** - è‡ªåŠ¨è·å–æœ€æ–°ç‰ˆæœ¬å¹¶å‡çº§ patch ç‰ˆæœ¬
- ğŸ¢ **å†…ç½‘æ¨¡å¼æ”¯æŒ** - ä¸€é”®é…ç½®å†…ç½‘ registryï¼Œæ— ç¼åˆ‡æ¢å‘å¸ƒæº
- ğŸ”¨ **æ‰¹é‡ç¼–è¯‘** - æ”¯æŒ Matrix æ‰¹é‡ç¼–è¯‘å·¥ä½œæµ
- ğŸ¨ **ç¾åŒ–ç•Œé¢** - ä¸“ä¸šçš„å‘½ä»¤è¡Œç•Œé¢ï¼Œæ¸…æ™°çš„æ­¥éª¤å±•ç¤º
- âš¡ **æ¨¡å—åŒ–æ¶æ„** - TypeScript æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
npm install -g @atom/matrix-publish
```

### åŸºæœ¬ä½¿ç”¨

#### å¸¸è§„æ¨¡å¼ï¼ˆå‘å¸ƒåˆ° npm å®˜æ–¹æºï¼‰
```bash
matrix-publish
```

#### å†…ç½‘æ¨¡å¼ï¼ˆå‘å¸ƒåˆ°å†…ç½‘æºï¼‰
```bash
matrix-publish --internal
```

## ğŸ“‹ ä½¿ç”¨æµç¨‹

Matrix Publish æä¾›å®Œæ•´çš„ 6 æ­¥å‘å¸ƒæµç¨‹ï¼š

### ç¬¬1æ­¥ï¼šğŸ“¦ è¯»å–åŒ…ä¿¡æ¯
- æ‰«æ `packages/` ç›®å½•ä¸‹çš„æ‰€æœ‰åŒ…
- è¯»å– `package.json` è·å–åŒ…åå’Œå½“å‰ç‰ˆæœ¬

### ç¬¬2æ­¥ï¼šğŸ” è·å– npm æœ€æ–°ç‰ˆæœ¬
- æŸ¥è¯¢æ¯ä¸ªåŒ…åœ¨ npm æºä¸Šçš„æœ€æ–°ç‰ˆæœ¬
- æ”¯æŒæœªå‘å¸ƒåŒ…çš„å¤„ç†ï¼ˆä» 0.0.1 å¼€å§‹ï¼‰

### ç¬¬3æ­¥ï¼šğŸ“ˆ è®¡ç®—æ–°ç‰ˆæœ¬å·
- è‡ªåŠ¨å‡çº§ patch ç‰ˆæœ¬ï¼ˆå¦‚ï¼š0.0.4 â†’ 0.0.5ï¼‰
- æ™ºèƒ½å¤„ç†ç‰ˆæœ¬å†²çª

### ç¬¬4æ­¥ï¼šâœï¸ æ›´æ–° package.json
- æ›´æ–°ç‰ˆæœ¬å·
- å†…ç½‘æ¨¡å¼ä¸‹è‡ªåŠ¨æ·»åŠ  `publishConfig`

### ç¬¬5æ­¥ï¼šğŸ”¨ æ‰§è¡Œæ‰¹é‡ç¼–è¯‘
- è¿è¡Œ `npx matrix receive --scope=åŒ…å@ç‰ˆæœ¬å·`
- æ”¯æŒæ‰¹é‡ç¼–è¯‘å¤šä¸ªåŒ…

### ç¬¬6æ­¥ï¼šğŸ“¦ æ¨¡æ‹Ÿå‘å¸ƒæµç¨‹
- å±•ç¤ºå®Œæ•´çš„å‘å¸ƒå‘½ä»¤
- å®‰å…¨æ¨¡å¼ï¼Œä¸ä¼šå®é™…å‘å¸ƒ

## ğŸ¢ å†…ç½‘æ¨¡å¼è¯¦è§£

### åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | å¸¸è§„æ¨¡å¼ | å†…ç½‘æ¨¡å¼ |
|------|----------|----------|
| ç‰ˆæœ¬å‡çº§ | âœ… è‡ªåŠ¨å‡çº§ patch ç‰ˆæœ¬ | âœ… è‡ªåŠ¨å‡çº§ patch ç‰ˆæœ¬ |
| publishConfig | âŒ ä¸æ·»åŠ  | âœ… è‡ªåŠ¨æ·»åŠ å†…ç½‘é…ç½® |
| Registry | npm å®˜æ–¹æº | å†…ç½‘ç§æœ‰æº |
| ç•Œé¢æç¤º | æ ‡å‡†æ¨¡å¼ | å†…ç½‘æ¨¡å¼æ ‡è¯† |

### è‡ªåŠ¨é…ç½®

ä½¿ç”¨ `--internal` å‚æ•°æ—¶ï¼Œå·¥å…·ä¼šè‡ªåŠ¨åœ¨ `package.json` ä¸­æ·»åŠ ï¼š

```json
{
  "name": "@oversea/button",
  "version": "0.0.5",
  "publishConfig": {
    "registry": "http://repositories.myhexin.com:8081/repository/npm-release/"
  }
}
```

### å‘å¸ƒæµç¨‹

é…ç½®å®Œæˆåï¼Œæ‰‹åŠ¨æ‰§è¡Œï¼š

```bash
cd packages/your-package && npm publish && cd ../..
```

npm ä¼šè‡ªåŠ¨ä½¿ç”¨ `publishConfig` ä¸­çš„å†…ç½‘ registryã€‚

## ğŸ¯ å‘½ä»¤è¡Œé€‰é¡¹

```bash
Usage: matrix-publish [options]

Options:
  -V, --version    æ˜¾ç¤ºç‰ˆæœ¬å·
  --internal       ä½¿ç”¨å†…ç½‘æ¨¡å¼ï¼Œé…ç½®å†…ç½‘ registry  
  -h, --help       æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

## ğŸ“ é¡¹ç›®ç»“æ„è¦æ±‚

Matrix Publish è¦æ±‚é¡¹ç›®é‡‡ç”¨ monorepo ç»“æ„ï¼š

```
your-project/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ package-a/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ package-b/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ package-c/
â”‚       â””â”€â”€ package.json
â””â”€â”€ package.json
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### å¯åŠ¨ç•Œé¢
```
â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—
â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•
â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ•”â• 
â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— 
â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—
â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•

â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
â•šâ•â•      â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•

         Package Selection & Publishing Tool
                    v1.1.0
```

### åŒ…é€‰æ‹©ç•Œé¢
```
âœ… é€‰ä¸­çš„åŒ… (3 ä¸ª)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â–¸ package-a
  â–¸ package-b  
  â–¸ package-c
```

### æ­¥éª¤å±•ç¤º
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•­â”€ STEP 1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ“¦ è¯»å–åŒ…ä¿¡æ¯                                                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
    â”œâ”€ package-a: @oversea/button@0.0.4
    â”œâ”€ package-b: @oversea/input@0.0.3
    â”œâ”€ package-c: @oversea/modal@0.0.2
  âœ“ æˆåŠŸè¯»å– 3 ä¸ªåŒ…çš„ä¿¡æ¯
```

## ğŸ—ï¸ å¼€å‘

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 7.0.0
- TypeScript >= 5.0.0

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/atom-org/matrix-publish.git
cd matrix-publish

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºé¡¹ç›®
npm run build

# è¿è¡Œæµ‹è¯•
npm run test
```

### é¡¹ç›®æ¶æ„

```
src/
â”œâ”€â”€ constants/          # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ colors.ts      # ANSI é¢œè‰²ä»£ç 
â”‚   â”œâ”€â”€ config.ts      # åº”ç”¨é…ç½®
â”‚   â””â”€â”€ index.ts       # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ package.ts     # åŒ…ç›¸å…³ç±»å‹
â”‚   â”œâ”€â”€ colors.ts      # é¢œè‰²ç±»å‹
â”‚   â””â”€â”€ index.ts       # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ banner.ts      # æ¨ªå¹…æ˜¾ç¤º
â”‚   â”œâ”€â”€ display.ts     # ç•Œé¢æ˜¾ç¤ºå·¥å…·
â”‚   â”œâ”€â”€ file.ts        # æ–‡ä»¶æ“ä½œå·¥å…·
â”‚   â”œâ”€â”€ version.ts     # ç‰ˆæœ¬ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ index.ts       # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ core/              # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ packageProcessor.ts  # åŒ…å¤„ç†å™¨
â”‚   â””â”€â”€ index.ts       # ç»Ÿä¸€å¯¼å‡º
â””â”€â”€ index.ts           # ä¸»å…¥å£æ–‡ä»¶
```

## ğŸ“ è„šæœ¬å‘½ä»¤

```json
{
  "build": "æ„å»ºé¡¹ç›®",
  "dev": "å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰",
  "start": "è¿è¡Œæ„å»ºåçš„ç¨‹åº",
  "debug": "è°ƒè¯•æ¨¡å¼è¿è¡Œ",
  "test": "è¿è¡Œæµ‹è¯•"
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ­¥éª¤

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œå¼€å‘
- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„ç±»å‹å®šä¹‰
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Issues](https://github.com/atom-org/matrix-publish/issues) - æŠ¥å‘Šé—®é¢˜
- [Discussions](https://github.com/atom-org/matrix-publish/discussions) - è®¨è®ºäº¤æµ
- [Releases](https://github.com/atom-org/matrix-publish/releases) - ç‰ˆæœ¬å‘å¸ƒ

## ğŸ’¬ æ”¯æŒ

å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰ç”¨ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ï¼

æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- ğŸ“§ Email: your-email@example.com
- ğŸ’¬ Issues: [GitHub Issues](https://github.com/atom-org/matrix-publish/issues)
- ğŸ“– Wiki: [é¡¹ç›®æ–‡æ¡£](https://github.com/atom-org/matrix-publish/wiki)

---

<div align="center">
Made with â¤ï¸ by Your Team
</div>